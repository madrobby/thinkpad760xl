<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<HTML><HEAD>
<TITLE>IBM ThinkPad 760E, 760ED, 760EL, 760XD, or 760XL User's Guide</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- D:\pub\mmx\html\mmxmst.scr converted by B2H R2.3 (255a) (OS2) on -->
<!-- 16 Dec 1996 at 19:58:26                                          -->
<META HTTP-EQUIV="updated"  CONTENT="Mon, 16 Dec 1996 19:57:42">
<META HTTP-EQUIV="review"  CONTENT="Tue, 16 Dec 1997 19:57:42">
<META HTTP-EQUIV="expires"  CONTENT="Wed, 16 Dec 1998 19:57:42">
</HEAD><BODY>
<!-- End Header Records  ============================================ -->
<A NAME=Top_Of_Page>&nbsp;</A>
<H1>IBM ThinkPad 760E, 760ED, 760EL, 760XD, or 760XL User's Guide</H1>
<B>&#91; <A HREF="#Bot_Of_Page">Bottom of Page</A> &#124; <A HREF="mmxmst34.htm">Previous Page</A> &#124; <A HREF="mmxmst36.htm">Next Page</A> &#124; <A HREF="mmxmst02.htm#ToC">Table of Contents</A> &#124; <A HREF="mmxmst38.htm#HDRINDEX_START">Index</A> &#93;</B><HR><P>
<H1><A NAME="HDRADPC" HREF="mmxmst31.htm#PToC_263">Appendix B. Advanced Information for PC Cards</A></H1>
<A NAME="SPTADPC"><I>(Ref #150.)</I></A>
<A NAME=IDX992>&nbsp;</A>
<P>This appendix describes
advanced information
related to using PC Cards.
<HR>
<H2><A NAME="Header_264" HREF="mmxmst31.htm#PToC_264">Restrictions on the PC Cards Supported by the Computer</A></H2>
<PRE>
<B><BR><IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><IMG SRC="c79chw31.gif" ALT="* Figure c79chw31 not displayed."><BR></B>
</PRE>
<P>The PC Card slots of the computer and the SelectaDock Docking System
do not support the following PC Cards&#58;
<UL>
<P><LI>Integral(**) Peripherals Model 1841PA (40MB)
<P><LI>IBM 105MB PCMCIA hard disk drive (P/N 74G8694)
<P><LI>8-bit or 16-bit slave DMA PC Cards
</UL>
<A NAME="SPTTYPE"><I>(Ref #151.)</I></A>
Ask IBM or an IBM authorized dealer for more information about the
different types of PC Cards.
<HR>
<H2><A NAME="Header_265" HREF="mmxmst31.htm#PToC_265">Using the Option Diskette for the PC Card</A></H2>
<P>Option diskettes, which came with some PC Cards, might
include PCMCIA software (Socket Service driver&#58; IBMDSS01.SYS)
that does not support your computer.
So, when using the diagnostic program or
the installation program in that kind of option diskette,
do the following&#58;
<OL>
<P><LI>Check whether your option diskette has the file named
IBMDSS01.SYS.  Did you find the IBMDSS01.SYS file?
<DL>
<P><DT><B>Yes
</B><DD>Go to the next step.
<P><DT><B>No
</B><DD>Go to step <A HREF="#LIRUN">5</A>.
</DL>
<P><LI>Make a backup copy diskette of the option diskette.
<P><LI>Copy the following two files to the backup copy diskette
from the PC Card Director Diskette for DOS and Windows&#58;
<UL>
<P><LI>IBMDSS14.SYS
<P><LI>IBMDOSCS.SYS
</UL>
<P><LI>Update a line in the CONFIG.SYS file in the backup copy diskette
as follows&#58;
<PRE>
  (old) DEVICE=A:&#92;IBMDSS01.SYS
 
    **&gt; DEVICE=A:&#92;IBMDSS<B>14</B>.SYS
</PRE>
<P><LI><A NAME="LIRUN">&nbsp;</A>Run the diagnostic or installation program in the
backup copy diskette, referring to the manual of the PC Card.
</OL>
<HR>
<H2><A NAME="HDRAUTOC" HREF="mmxmst31.htm#PToC_266">Auto Configurator for PC Card Director</A></H2>
<A NAME=IDX993>&nbsp;</A>
<A NAME="SPTTIP"><I>(Ref #152.)</I></A>
<P>The computers provide the <I>Auto Configurator</I>,
a program for some PC Cards, so that you do not have to install the
device driver supplied with the card to use it.
<BR>
<TABLE BORDER>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<P><B>Note: </B>
<BR>
When installing an operating system,
install the PCMCIA device driver that is on the
PC Card Director Diskette
to use the Auto Configurator.
<BR></TD></TR></TABLE>
<BR>
<TABLE BORDER>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<P>
To install the PCMCIA device driver&#58;
<BR>
&gt; <A HREF="mmxmst25.htm#HDRINSOS">"Installing Software"</A>.
<BR></TD></TR></TABLE>
<P>The resource and configuration information for the PC Cards
are written in the script files.  Once the information is written,
you can use the <I>Auto Configurator Utility</B> to edit
these script files.
<P>When Auto Configurator is installed, the following line is
added to the CONFIG.SYS file according to your operating system&#58;
<UL COMPACT>
<LI><I>For OS/2&#58;</I>
<PRE>
BASEDEV=AUTODRV2.SYS
</PRE>
<LI><I>For DOS and Windows&#58;</I>
<PRE>
DEVICE=&#91;<VAR>drive</VAR>&#58;&#93; &#91;<VAR>directory</VAR>&#93; AUTODRV.SYS
</PRE>
</UL>
<HR>
<P>
<H3><A NAME="HDRAUTOUT" HREF="mmxmst31.htm#PToC_267">Starting the Auto Configurator Utility for OS/2 or Windows 3.11</A></H3>
<BR>
<TABLE>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<B><BR><IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><IMG SRC="c79chw31.gif" ALT="* Figure c79chw31 not displayed."><BR></B>
<BR></TD></TR></TABLE>
<P>This section describes the Auto Configurator Utility for OS/2 or Windows.
<A NAME=IDX995>&nbsp;</A>
<P>To start Auto Configurator Utility for OS/2 or Windows,
select the <B>Auto Configurator Utility</B> (<B><IMG SRC="c79chpi3.gif" ALT="* Figure c79chpi3 not displayed."></B>)
icon from the PC Card Director window.
<P>The operation for OS/2 and for Windows is the same.
<P><P>
<HR>
<P>
<H4><A NAME="Header_268" HREF="mmxmst31.htm#PToC_268">Registering a PC Card in Auto Configurator</A></H4>
<A NAME=IDX997>&nbsp;</A>
<OL>
<P><LI>Select a card from the Available Cards
list in the Auto Configurator Utility main panel.
<B><BR><IMG SRC="c79chpa6.gif" ALT="* Figure c79chpa6 not displayed."><BR></B>
<P>Select the card for which you want to assign the resources first.
For example, when you want to assign COM3 to a modem card, and
not COM2, select the setting for COM3 first.
<P><LI>Click on the <B>Add>></B> button.
<P><LI>Click on the <B>Save</B> button.
<P>The names in the left list box (<B>Available Cards</B>)
are the cards
that can be registered.
The names in the right list box
(<B>Selected Cards</B>) are the cards
that are already registered in Auto Configurator.
When a PC Card is installed, Auto Configurator starts from the top of
the list to assign the resources to the card.
</OL>
<HR>
<P>
<H4><A NAME="Header_269" HREF="mmxmst31.htm#PToC_269">Deleting a Registered Card</A></H4>
<OL>
<P><LI>Select
the PC Card you want to delete from <B>Selected Cards</B>
in the Auto Configurator Utility main panel.
<P><LI>Click on the <B>Delete</B> button.
<P><LI>Click on the <B>Save</B> button.
</OL>
<P><P>
<HR>
<P>
<H4><A NAME="Header_270" HREF="mmxmst31.htm#PToC_270">Changing the Registered Order for PC Cards</A></H4>
<P>To change the order of the registered PC Cards,
do the following&#58;
<OL>
<P><LI>Click on the <B>Order...</B> button in the Auto Configurator Utility
main panel.
<B><BR><IMG SRC="c79chpa7.gif" ALT="* Figure c79chpa7 not displayed."><BR></B>
<P>The operation for OS/2 and for Windows is the same.
<P><LI>Refer to the following to change the order
of the PC Cards in the list&#58;
<UL>
<P><LI><B>Moving a card toward the bottom</B>
<OL COMPACT>
<LI>Select the PC Card you want to move.
<LI>Click on the <B>Down</B> button.
<P>
Every time you
click on the <B>Down</B> button,
the PC Card is moved toward the bottom of the list.
</OL>
<P><LI><B>Moving a card toward the top</B>
<OL COMPACT>
<LI>Select the PC Card you want to move.
<LI>Click on the <B>Up</B> button.
<P>
Every time you
click on the <B>Up</B> button,
the PC Card is moved toward the top of the list.
</OL>
</UL>
<P><LI>Click on the <B>OK</B> button to save the changes.
<P>
The changes are saved.  To cancel the changes
click on the <B>Cancel</B> button.
</OL>
<HR>
<P>
<H4><A NAME="Header_271" HREF="mmxmst31.htm#PToC_271">Changing the Resource Information for the PC Card</A></H4>
<OL>
<P><LI>Select the PC Card you want to
change from the left list box in the Auto Configurator Utility main panel.
<P><LI>Click on the <B>Edit...</B> button.
<P>The following panel is displayed&#58;
<B><BR><IMG SRC="c79chpe4.gif" ALT="* Figure c79chpe4 not displayed."><BR></B>
<BR>
<TABLE BORDER>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<P><B>Note: </B>
<BR>
The current resource information is set as the default and
appears in the input field
of each item.
The number that can be set is displayed in the pull-down
list box.
<BR></TD></TR></TABLE>
<P><LI>You can change
the following registered information for the PC Card.
<P>The items that can be changed differ among PC Cards.
<UL COMPACT>
<LI>Card ID
<LI>I/O port address
<LI>IRQ level
<LI>COM number of the serial port
<LI>Memory window address
<LI>Memory window size
<LI>Card offset address
</UL>
<P><LI>Click on the <B>OK</B> button, and save the changes.
<P>To cancel the changes, click on the <B>Cancel</B> button.
</OL>
<P><P>
<HR>
<H2><A NAME="HDRACONFI" HREF="mmxmst31.htm#PToC_272">Adding to the CONFIG.SYS File</A></H2>
<A NAME="SPTUPCONOS"><I>(Ref #153.)</I></A>
<P>For PC Card Director to work correctly,
the PC Card device drivers (which make up the structured file of PC Card Director)
must be registered in the CONFIG.SYS file.
These drivers are automatically registered in the CONFIG.SYS file
when you install PC Card Director following the
instructions in <A HREF="mmxmst25.htm#HDRINSOS">"Installing Software"</A>.
The following shows each driver registered in the CONFIG.SYS file
and the standard rules.
<HR>
<P>
<H3><A NAME="Header_273" HREF="mmxmst31.htm#PToC_273">Registered Drivers and Standard Rules for OS/2</A></H3>
<IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><BR></B>
<P>The following is a sample of the CONFIG.SYS file for OS/2&#58;
<A NAME=IDX998>&nbsp;</A>
<PRE>
         &#58;
BASEDEV=PCMCIA.SYS             &lt; Card Services
BASEDEV=ICRMU01.SYS            &lt; Resource Map Utility
BASEDEV=IBM2SS14.SYS           &lt; Socket Services
                                      (CardBus controller)
BASEDEV=IBM2SS04.SYS           &lt; Socket Services
                                      (R2 PCIC controller)
BASEDEV=AUTODRV2.SYS           &lt; Auto Configurator
DEVICE=C:&#92;THINKPAD&#92;VPCMCIA.SYS   &lt; Virtual Card Services
         &#58;
DEVICE=C:&#92;THINKPAD&#92;<VAR>xxxxxxx</VAR>.SYS
         &#58;       &#94; Storage card device driver
REM PC&#95;Card&#95;Client&#95;Device&#95;Driver
         &#58;
DEVICE=C:&#92;THINKPAD&#92;$ICPMOS2.SYS
                 &#94; Power Management Support driver
</PRE>
<DL>
<P><DT><B>Rule 1
</B><DD>Card Services, Resource Map Utility, and Socket Services
must be listed before any other PCMCIA drivers.
<P><DT><B>Rule 2
</B><DD>The Resource Map Utility is necessary only for OS/2
Version 2.1<I>x</I>.
<P><DT><B>Rule 3
</B><DD>The PCMCIA Power Management Support driver must be listed after
all drivers, at the end of the CONFIG.SYS file.
<P><DT><B>Rule 4
</B><DD>When using storage cards, the device drivers must be installed
according to the card type&#58;
</DL>
<UL>
<P><LI>Using only an ATA card&#58;
<PRE>
         &#58;
BASEDEV=PCM2ATA.ADD /!DM   &lt;  ATA card device driver
DEVICE=C:&#92;THINKPAD&#92;PCMSSDIF.SYS
         &#58;       &#94;  Storage API device driver
BASEDEV=OS2PCARD.DMD   &lt;  Storage Card Device Manager
</PRE>
<P><LI>Using an ATA card and an SRAM card&#58;
<PRE>
         &#58;
BASEDEV=PCM2ATA.ADD /!DM     &lt;  ATA card device driver
DEVICE=C:&#92;THINKPAD&#92;PCMSSDIF.SYS
                 &#94;  Storage API device driver
DEVICE=C:&#92;THINKPAD&#92;PCM2SRAM.SYS
         &#58;       &#94;  SRAM card device driver
BASEDEV=OS2PCARD.DMD    &lt;  Storage Card Device Manager
</PRE>
<P><LI>Using an ATA card and a Flash card&#58;
<PRE>
         &#58;
BASEDEV=PCM2ATA.ADD /!DM   &lt;  ATA card device driver
DEVICE=C:&#92;THINKPAD&#92;FLSH2MTD.SYS
                 &#94;  Flash Card Memory Technology driver
DEVICE=C:&#92;THINKPAD&#92;PCMSSDIF.SYS
                 &#94;  Storage API device driver
DEVICE=C:&#92;THINKPAD&#92;PCM2FLSH.SYS
         &#58;       &#94;  Flash card device driver
BASEDEV=OS2PCARD.DMD   &lt;  Storage Card Device Manager
</PRE>
<P><LI>Using an ATA card, an SRAM card, and a Flash card&#58;
<PRE>
         &#58;
BASEDEV=PCM2ATA.ADD /!DM   &lt;  ATA card device driver
DEVICE=C:&#92;THINKPAD&#92;FLSH2MTD.SYS
                 &#94;  Flash Card Memory Technology driver
DEVICE=C:&#92;THINKPAD&#92;PCMSSDIF.SYS
                 &#94;  Storage API device driver
DEVICE=C:&#92;THINKPAD&#92;PCM2SRAM.SYS
                 &#94;  SRAM card device driver
DEVICE=C:&#92;THINKPAD&#92;PCM2FLSH.SYS
         &#58;       &#94;  Flash card device driver
BASEDEV=OS2PCARD.DMD   &lt;  Storage Card Device Manager
</PRE>
</UL>
<DL>
<P><DT><B>Rule 5
</B><DD>The Storage Card Device Manager
(OS2PCARD.DMD) must be added after the
Power Management Support driver ($ICPMOS2.SYS) in the CONFIG.SYS file.
If you don't
have the Power Management Support driver,
the Storage Card Device Manager must be added
at the end of the CONFIG.SYS file.
</DL>
<HR>
<P>
<H3><A NAME="HDRREGCNF" HREF="mmxmst31.htm#PToC_274">Registered Drivers and Standard Rules for DOS and Windows 3.11</A></H3>
<BR>
<TABLE>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<B><BR><IMG SRC="c79chdos.gif" ALT="* Figure c79chdos not displayed."><IMG SRC="c79chw31.gif" ALT="* Figure c79chw31 not displayed."><BR></B>
<BR></TD></TR></TABLE>
<P>The following is a sample of the CONFIG.SYS file for DOS and
Windows&#58;
<PRE>
         &#58;
DEVICE=C:&#92;DOS&#92;EMM386.EXE FRAME=D000 X=C800-CFFF
         &#58;
DEVICEHIGH=C:&#92;THINKPAD&#92;IBMDSS14.SYS   &lt;  Socket Services
                                         (CardBus controller)
DEVICEHIGH=C:&#92;THINKPAD&#92;IBMDSS04.SYS   &lt;  Socket Services
                                         (R2 PCIC controller)
DEVICEHIGH=C:&#92;THINKPAD&#92;IBMDOSCS.SYS   &lt;  Card Services
DEVICEHIGH=C:&#92;THINKPAD&#92;IBMDSCSE.SYS
                                     &#94;  Enhanced Card Services
DEVICEHIGH=C:&#92;THINKPAD&#92;DICRMU01.SYS /MA=C800-CFFF
                     &#94; Resource Map Utility
DEVICEHIGH=C:&#92;THINKPAD&#92;$ICPMDOS.SYS
                     &#94; Power Management Support driver
         &#58;
REM PC&#95;Card&#95;Client&#95;Device&#95;Driver
         &#58;
DEVICEHIGH=C:&#92;THINKPAD&#92;<VAR>xxxxxxx</VAR>.SYS
                     &#94;  Storage card device driver
DEVICEHIGH=C:&#92;THINKPAD&#92;AUTODRV.SYS    &lt; Auto Configurator
         &#58;
</PRE>
<DL>
<P><DT><B>Rule 1
</B><DD>When using the PCMCIA drivers with the Software EMS driver
(EMM386.EXE), you must specify
the <TT>X=</TT> parameter for
EMM386.EXE.  This is to avoid conflict in the memory area used by
the PCMCIA drivers and the Software EMS driver.
<P><DT><B>Rule 2
</B><DD>Socket Services, Card Services, and Resource Map Utility
must be listed in this order.
<P><DT><B>Rule 3
</B><DD>The Power Management Support driver must be listed
after the Resource Map Utility.
<P><DT><B>Rule 4
</B><DD>The PC Card Client device driver must be listed before the Auto Configurator.
<P><DT><B>Rule 5
</B><DD>When using storage cards, you must install
the device driver according to the card type, as listed below.
<UL>
<P><LI>Using only an ATA card&#58;
<PRE>
DEVICEHIGH=C:&#92;THINKPAD&#92;PAWATA.SYS
</PRE>
<P><LI>Using an ATA card and an SRAM card&#58;
<PRE>
DEVICEHIGH=C:&#92;THINKPAD&#92;PAWATAS.SYS
</PRE>
<P><LI>Using an ATA card, an SRAM card, and a Flash card&#58;
<PRE>
DEVICEHIGH=C:&#92;THINKPAD&#92;FLSHDMTD.SYS
  &#94;  Flash card Memory Technology driver
DEVICEHIGH=C:&#92;THINKPAD&#92;PAWATASF.SYS
  &#94;  ATA SRAM Flash card driver
</PRE>
</UL>
<P><DT><B>Rule 6
</B><DD>The Enhanced Card Services (IBMDSCSE.SYS) is necessary only
when you are using a Flash card.
<P>When the total storage of the Flash cards used at the same time
exceeds 10MB, you must do one of the following&#58;
<UL>
<P><LI>Assign the <TT>/TSIZE&#58;</TT><VAR>n</VAR> parameter in the
PAWATASF.SYS file.
<P>
For example&#58;
<OL COMPACT>
<LI>If the maximum total storage is 20MB, specify&#58;
<PRE>
        DEVICE=PAWATASF.SYS /TSIZE&#58;6
</PRE>
<LI>If the maximum total storage is 40MB, specify&#58;
<PRE>
      DEVICE=PAWATASF.SYS /TSIZE&#58;10
</PRE>
See the /TSIZE parameter on <A HREF="#HDRTTSIZE">"Parameters for DOS PCMCIA Storage Card Device Drivers"</A>.
</OL>
This increases the memory resident area for PAWATASF.SYS.
<P><LI>Assign the <TT>/EMS</TT> parameter in the PAWATASF.SYS file, and
the <TT>/NE</TT> parameter in the IBMDOSCS.SYS file.  This sets
IBMDOSCS.SYS not to use the EMS page frame and allows
PAWATASF.SYS to use it instead.  (The EMS memory must be enabled.)
<P>For example&#58;
<PRE>
     DEVICE=IBMDOSCS.SYS /NE
     DEVICE=IBMDSCSE.SYS
              &#58;
     DEVICE=PAWATASF.SYS /EMS
</PRE>
</UL>
</DL>
<P><P>
<HR>
<H2><A NAME="HDRSTORAGE" HREF="mmxmst31.htm#PToC_275">Storage Card Device Driver</A></H2>
<A NAME=IDX999>&nbsp;</A>
<P>
ATA cards, SRAM cards, and
Flash cards are PCMCIA storage cards.
The following section describes the device drivers for
these storage cards, available in PC Card Director.
<HR>
<P>
<H3><A NAME="Header_276" HREF="mmxmst31.htm#PToC_276">PCMCIA Storage Card Device Driver for OS/2</A></H3>
<B><BR><IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><BR></B>
<P>PCM2ATA.ADD supports ATA cards, PCM2SRAM.SYS supports SRAM cards,
and PCM2FLSH.SYS supports Flash cards.
<BR>
<TABLE BORDER>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<P><B>Note: </B>
<BR>
Install PCM2ATA.ADD for all storage cards,
even when you are using SRAM or Flash cards.
<BR></TD></TR></TABLE>
<P>
Any PC Card installed in the slot is recognized by its device
driver, so regardless of its type, you can access the card
by the drive name assigned to the slot.
When using the PCMCIA ATA Card Mount Utility,
install the PCMCIA Storage API device
driver (PCMSSDIF.SYS) for OS/2.
<HR>
<P>
<H3><A NAME="Header_277" HREF="mmxmst31.htm#PToC_277">PCMCIA Storage Card Device Driver for DOS and Windows 3.11</A></H3>
<BR>
<TABLE>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<B><BR><IMG SRC="c79chdos.gif" ALT="* Figure c79chdos not displayed."><IMG SRC="c79chw31.gif" ALT="* Figure c79chw31 not displayed."><BR></B>
<BR></TD></TR></TABLE>
<P>
PAWATA.SYS supports ATA cards,
PAWATAS.SYS supports ATA cards and SRAM cards,
and PAWATASF.SYS supports ATA cards, SRAM cards, and Flash cards.
<P>These device drivers assign a drive letter for each usable
PC Card slot.
These drive letters are displayed when the device drivers are
initialized, and then
you can use the drive letter to access the installed
PCMCIA storage card.
When you run FORMAT.COM against the drive letter, the SRAM card
is formatted as a diskette and the ATA or Flash card
is formatted as a nonremovable disk.
In the File Manager under Windows, the drive letters are
represented and treated as a
diskette drive, regardless of
the storage card type.
<HR>
<P>
<H3><A NAME="Header_278" HREF="mmxmst31.htm#PToC_278">Before Using PCMCIA Storage Cards</A></H3>
<P>Format new PCMCIA storage cards before use.
For Flash cards, run the Flash Format Utility
(FFORMAT.EXE/FFORMAT2.EXE); then format the
Flash card.
For ATA cards and SRAM cards, there is no need to run any programs
before formatting the card.
Format using the FORMAT.COM program, by displaying
the File Manager (for Windows), or by choosing the drive icon (for OS/2).
<HR>
<P>
<H3><A NAME="Header_279" HREF="mmxmst31.htm#PToC_279">Using PCMCIA ATA Cards with Multiple Partitions</A></H3>
<A NAME=IDX1000>&nbsp;</A>
<A NAME=IDX1002>&nbsp;</A>
<P>
The device driver assigns a drive letter only to the
active (bootable) partition of the ATA card if it holds multiple
partitions.  For other primary partitions or logical drives in
an extended partition, use the PCMCIA ATA Card Mount utility to
assign the drive letter to it.
<HR>
<P>
<H3><A NAME="Header_280" HREF="mmxmst31.htm#PToC_280">Parameters for the OS/2 PCMCIA ATA Card Device Driver</A></H3>
<B><BR><IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><BR></B>
<P>The following are the parameters in the OS/2 PCMCIA ATA card
device driver and their explanations&#58;
<PRE>
BASEDEV=PCM2ATA.ADD &#91;/S&#58;<VAR>n</VAR>&#93; &#91;/P&#58;<VAR>hhhh</VAR>&#93; &#91;/EXIRQ&#58;<VAR>n</VAR>&#93;
    &#91;/NOBEEP&#93; &#91;/B&#93; &#91;/STBTIME&#58;<VAR>n</VAR>&#93; &#91;/MDRV&#58;<VAR>n</VAR>&#93; &#91;/!DM&#93;
</PRE>
<DL>
<P><DT><B>/S&#58;<VAR>n</VAR>
</B><DD>Specifies the number of PC Card slots.
<TT>/S&#58;1</TT> shows that there is only one PC Card slot.
When this parameter is not set, the number of PC Card slots is set to 2.
<P><DT><B>/P&#58;<VAR>hhhh</VAR>
</B><DD>Specifies the lower limit for the I/O address of the
ATA card.
The device driver assigns the next usable I/O address
from this lower limit to the card.
When this parameter is not set, the device driver looks for a usable
address and assigns it to the card.
<P><DT><B>/EXIRQ&#58;<VAR>n</VAR>
</B><DD>Specifies the IRQ level that <I>is not</I> assigned to the card.
You can set more than one IRQ level.
<P><DT><B>/NOBEEP
</B><DD>Specifies not to beep when a storage card is installed.
When this parameter is not set, you will hear a beep every time a
storage card is installed into the PC Card slot.
<P><DT><B>/B
</B><DD>Specifies that OS/2 has started from an ATA card.
When this parameter is set, there will be no
redundancy in assigning the logical drive to the slot
where OS/2 was booted.
It depends on the ATA card whether you can start OS/2 from it.
<P><DT><B>/STBTIME&#58;<VAR>n</VAR>
</B><DD>Specifies the time (from 1 to 21 minutes) until entering
standby mode.
When the ATA card is not accessed for the time specified by this
parameter, the ATA card enters standby mode (only when your
ATA card supports standby mode).
When this parameter is not specified, standby mode for the ATA card
is disabled.
<P><DT><B>/MDRV&#58;<VAR>n</VAR>
</B><DD>Specifies the number of extra drives that can be used in addition
to the number of PC Card slots available for the PCMCIA storage
devices.  When this parameter is not specified, no extra
drive is given to the device driver.  The extra drives
can be activated by the PCMCIA ATA Card Mount utility.
<P><DT><B>/!DM
</B><DD>Specifies not to use OS2DASD.DMD as the
device manager.  When this parameter is set,
OS2PCARD.DMD is used instead.
</DL>
<HR>
<P>
<H3><A NAME="HDRTTSIZE" HREF="mmxmst31.htm#PToC_281">Parameters for DOS PCMCIA Storage Card Device Drivers</A></H3>
<B><BR><IMG SRC="c79chdos.gif" ALT="* Figure c79chdos not displayed."><BR></B>
<P>The following are the parameters in the DOS PCMCIA storage card
device driver and their explanations&#58;
<P>
<PRE>
DEVICE=&#91;<VAR>drive&#58;</VAR>&#93; &#91;<VAR>directory</VAR>&#93; PAWATA.SYS &#91;/P&#58;<VAR>hhhh</VAR>&#93; &#91;/NOBEEP&#93;
      &#91;/STBTIME&#58;<VAR>n</VAR>&#93; &#91;/MDRV&#58;<VAR>n</VAR>&#93;
DEVICE=&#91;<VAR>drive&#58;</VAR>&#93; &#91;<VAR>directory</VAR>&#93; PAWATAS.SYS &#91;/P&#58;<VAR>hhhh</VAR>&#93; &#91;/NOBEEP&#93;
      &#91;/STBTIME&#58;<VAR>n</VAR>&#93; &#91;/MDRV&#58;<VAR>n</VAR>&#93;
DEVICE=&#91;<VAR>drive&#58;</VAR>&#93; &#91;<VAR>directory</VAR>&#93; PAWATASF.SYS &#91;/P&#58;<VAR>hhhh</VAR>&#93;
      &#91;/NOBEEP&#93; &#91;/STBTIME&#58;<VAR>n</VAR>&#93; &#91;/MDRV&#58;<VAR>n</VAR>&#93; &#91;/EMS&#93; &#91;/TSIZE&#58;<VAR>n</VAR>&#93;
</PRE>
<DL>
<P><DT><B>/P&#58;<VAR>hhhh</VAR>
</B><DD>Specifies the lower limit for the I/O address of the
ATA card.  The device driver assigns the next usable I/O address
from this lower limit to the card.
When this parameter is not set, the device driver looks for a usable
address and assigns that address to the card.
<P><DT><B>/NOBEEP
</B><DD>Specifies not to beep when a storage card is installed.
When this parameter is not set, you will hear a beep every time a
storage card is installed into the PC Card slot.
<P><DT><B>/STBTIME&#58;<VAR>n</VAR>
</B><DD>Specifies the time (from 1 to 21 minutes) until
entering standby mode.
When the ATA card is not accessed for the time specified by this
parameter, the ATA card enters standby mode (only when your
ATA card supports standby mode).
When this parameter is not specified, standby mode for the ATA card
is disabled.
<P><DT><B>/MDRV&#58;<VAR>n</VAR>
</B><DD>Specifies the number of extra drives that can be used in addition
to the number of PC Card slots available for the PCMCIA storage
devices.  When this parameter is not specified, no extra
drive is given to the device driver.  The extra drives
can be activated by the PCMCIA ATA Card Mount Utility.
<P><DT><B>/EMS
</B><DD>When this parameter is specified, the device driver
uses the EMS resources if they are usable.
When this parameter is not specified, the device driver does not
use the EMS resources.
<A NAME="SPTTSIZE"><I>(Ref #154.)</I></A>
<P><DT><B>/TSIZE&#58;<VAR>n</VAR>
</B><DD>You can specify the size of the table for the device driver data
in the resident memory area.
When the EMS resources are not usable, the data tables are created
in the resident memory area.  When the EMS resources are usable,
this parameter is ignored.  The table size depends on the
variable <I>n</I> and is calculated as follows&#58;
<UL>
<P><LI>table size = <VAR>n</VAR> x 1024 bytes
</UL>
<P>
Specify <VAR>n</VAR> in a decimal number.
When this parameter is not specified, the device driver
creates the table with <VAR>n</VAR>=4.
Select the variable <VAR>n</VAR> depending on the total capacity of
the Flash card.
The following is an example of the relationship between the variable
<I>n</I> and the total capacity of the Flash card&#58;
<UL COMPACT>
<LI>Up to 10MB&#58;  <VAR>n</VAR>=4
<LI>Up to 20MB&#58;  <VAR>n</VAR>=6
<LI>Up to 40MB&#58;  <VAR>n</VAR>=10
</UL>
</DL>
<HR>
<P>
<H3><A NAME="Header_282" HREF="mmxmst31.htm#PToC_282">PCMCIA Storage Card Device Manager for OS/2</A></H3>
<B><BR><IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><BR></B>
<P>
OS2PCARD.DMD is the device manager for the
PCMCIA storage card.  Specify the /!DM parameter in
the PCM2ATA.ADD line, so
OS2PCARD.DMD is used instead of OS2DASD.DMD.
If you do not specify /!DM,
PCM2ATA.ADD uses the OS/2 standard Storage Card Device Manager
(OS2DASD.DMD); however,
under some conditions the format will not be correct when
you use OS2DASD.DMD.
<P>The following is a line from the CONFIG.SYS file that
describes the Storage Card Device Manager&#58;
<PRE>
   BASEDEV=OS2PCARD.DMD
</PRE>
<P><P>
<HR>
<P>
<H3><A NAME="Header_283" HREF="mmxmst31.htm#PToC_283">OS/2 PCMCIA Storage API Device Driver</A></H3>
<B><BR><IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><BR></B>
<A NAME=IDX1003>&nbsp;</A>
<A NAME=IDX1005>&nbsp;</A>
<P>This device driver provides a communication function between
PC Card Director or the mount utility and the
OS/2 PCMCIA ATA card device driver.
As a result, a utility in the upper layer can get the
drive letter or partition information for the PCMCIA storage card.
<P>The following is a line from the CONFIG.SYS file that
describes the Storage API device driver&#58;
<PRE>
DEVICE=&#91;<VAR>drive&#58;</VAR>&#93;&#91;<VAR>directory</VAR>&#93;PCMSSDIF.SYS
</PRE>
<HR>
<P>
<H3><A NAME="Header_284" HREF="mmxmst31.htm#PToC_284">Flash Card Memory Technology Driver</A></H3>
<A NAME=IDX1006>&nbsp;</A>
<A NAME=IDX1008>&nbsp;</A>
<P>This driver is used to read and write to a Flash card.
It is used by the DOS storage card device driver
(PAWATASF.SYS) and OS2 Flash card driver (PCM2FLSH.SYS).
<P>The following is a line from the CONFIG.SYS file that
describes the Flash Card Memory Technology driver, according
to the operating system&#58;
<UL>
<P><LI><I>For OS/2&#58;</I>
<PRE>
DEVICE =&#91;<VAR>drive</VAR>&#58;&#93; &#91;<VAR>directory</VAR>&#93; FLSH2MTD.SYS
             &#94; Memory Technology driver
DEVICE =&#91;<VAR>drive</VAR>&#58;&#93; &#91;<VAR>directory</VAR>&#93; PCM2FLSH.SYS
             &#94;  Storage card device driver
</PRE>
<P><LI><I>For DOS and Windows&#58;</I>
<PRE>
DEVICE=&#91;<VAR>drive</VAR>&#58;&#93; &#91;<VAR>directory</VAR>&#93; IBMDOSCS.SYS
                    &#94; Card Services
DEVICE=&#91;<VAR>drive</VAR>&#58;&#93; &#91;<VAR>directory</VAR>&#93; IBMDSCSE.SYS
                    &#94; Enhanced Card Services
DEVICE=&#91;<VAR>drive</VAR>&#58;&#93; &#91;<VAR>directory</VAR>&#93; FLSHDMTD.SYS
                    &#94; Memory Technology driver
DEVICE=&#91;<VAR>drive</VAR>&#58;&#93; &#91;<VAR>directory</VAR>&#93; PAWATASF.SYS
                    &#94; ATA SRAM Flash card device driver
</PRE>
</UL>
<P><P>
<HR>
<H2><A NAME="HDRUNINST2" HREF="mmxmst31.htm#PToC_285">Checking the Allocated Resources for the PC Card</A></H2>
<A NAME=IDX1010>&nbsp;</A>
<P>If the resources for the PC Cards
are not correctly allocated, you will see error
messages.
You can check which resources for the PC Card were not
correctly allocated by using PC Card Director.
To check the resources that could not be allocated, click
on the <B>Status</B> button in the PC Card Director program.
<P>The following are some reasons why the
resources could not be correctly allocated, and corresponding
actions you should take
to solve the problem.
<UL COMPACT>
<LI>The resource was already reserved by another device.
<LI>Resource Map Utility
or other configuration files were not set up correctly.
</UL>
<P>To change the resource settings for the PC Card or other devices,
you can do one of the following&#58;
<UL>
<P><LI>Refer to the system manual or utility program
and check which device is using the resources
that you want to use for the PC Card.
Then, change the settings for the device by
using, for example, the setup programs.
For more information, refer to the manuals supplied with your computer.
<P><LI>If your PC Card is enabled by a PC Card enabler,
you can change the resources assigned to the PC Card
by changing the parameters in the PC Card enabler, or
you can change the settings in the configuration file of the
PC Card.
For more information, refer to the manuals supplied with your PC Card.
<P><LI>If you are using Auto Configurator to enable your PC Card, you can
change the resources assigned to the PC Card by using the
Auto Configurator.
Make sure the resource is not used by other devices and
can be used by
the PC Card and its application program.
For more information, see <A HREF="#HDRAUTOUT">"Starting the Auto Configurator Utility for OS/2 or Windows 3.11"</A>.
<P><LI>If you are using modem cards,
some modem cards use serial port COM1 or COM2 and
do not have the setup information for
COM3 and COM4.
These modem cards cannot be enabled when other devices are using
COM1 and COM2.
(For example, as a default, COM1 is used by the
infrared device and COM2 is used by the Mwave modem.)
Error messages are displayed to tell you
that the I/O port address 3F8 or 2F8,
or IRQ level 3 or 4, were not allocated.
<P>
If this is the case, use the ThinkPad Setup Utility in the ThinkPad
Features program to&#58;
<UL>
<P><LI>For OS/2, disable the devices using COM1 or COM2;
then restart the system.
<P><LI>For DOS or Windows, reserve COM2 for the PC Card,
and use COM1 for other integrated communication devices.
</UL>
</UL>
<HR>
<H2><A NAME="HDRBATTING" HREF="mmxmst31.htm#PToC_286">Avoiding PC Card Resource Conflicts</A></H2>
<A NAME=IDX1012>&nbsp;</A>
<A NAME=IDX1014>&nbsp;</A>
PC Card Director checks the resources for most devices used by the system
to avoid resource conflicts,
but it does not recognize all option devices used.
Especially when you are
using the docking station,
there is a
possibility that the I/O port address or IRQ level may conflict
with the PC Card.
<P>
Check the status of the PC Card by using PC Card Director.
When the PC Card is set to &quot;Ready,&quot; the resources used
for that PC Card are displayed.
Refer to the manuals supplied with the system or option adapters
to check that the resources for the devices in the system or for
the option adapters are not conflicting with the
resources for the IRQ level, I/O port address, or memory window
of the PC Card.
If you are using OS/2 Warp Version 3, you can check the assigned
system resources using RMVIEW.EXE.
<P>
If there is a conflict&#58;
<UL>
<P><LI>Use the Resource Map Utility,
so that those resources are not assigned to the PC Card.
(Change the value for the
<TT>/MA=</TT> parameter, or add the <TT>/MX=</TT>, <TT>/PX=</TT>, or
<TT>/IX=</TT> parameter.)
<P><LI>If you are using OS/2 Warp Version 3,
use RESERVE.SYS to register those
resources in OS/2.
<P>
To set RESERVE.SYS, refer to the manuals or online help for OS/2 Warp,
or refer to the READ.ME file of PC Card Director.
<P><LI>If you are using Auto Configurator,
change the enabling order or resource information using the Auto Configurator
Utility.
<P>See
<A HREF="#HDRAUTOUT">"Starting the Auto Configurator Utility for OS/2 or Windows 3.11"</A>.
<P><LI>Change the parameter for the PC Card enabler.
Refer to the
manuals supplied with the PC Card.
<P><LI>If you are using network cards, change the resource
information for the PC Card stated in the PROTOCOL.INI or NET.CFG file.
<P>
To change the configuration file for the network cards,
refer to the manuals or READ.ME files of the PC Cards or network
drivers.
</UL>
<HR>
<H2><A NAME="HDRVIRCD" HREF="mmxmst31.htm#PToC_287">Virtual Card Services for OS/2</A></H2>
<B><BR><IMG SRC="c79chos2.gif" ALT="* Figure c79chos2 not displayed."><BR></B>
<A NAME=IDX1016>&nbsp;</A>
<A NAME=IDX1017>&nbsp;</A>
<P>When you use a DOS object&#42; in the OS/2 environment,
OS/2 Virtual Card Services provides a Card Services interface
so that you can use the DOS PC Card device driver for the DOS object.
<BR>
<TABLE BORDER>
<TR>
<TD ALIGN=LEFT VALIGN=TOP WIDTH=100%>
<P><B>Note: </B>
<BR>
&#42; <I>DOS Object</I> includes DOS program,
Windows program, DOS full-screen, DOS window,
WIN-OS/2 full-screen, and WIN-OS/2 window.
<BR></TD></TR></TABLE>
<P>Note that even when a PC Card is enabled in a DOS object, the
device driver or the application program may not work or their
performance may not be what you expect.
<P>
To use Virtual Card Services in a DOS object, do the following&#58;
<OL>
<P><LI>Move the mouse pointer to the DOS object icon; then click
the right mouse button.
<P><LI>Select <B>Settings</B>.
<P><LI>Select <B>Session</B>.
<P><LI>Select <B>DOS (WIN-OS/2) Settings</B>.
<P><LI>Select <B>All DOS (DOS and WIN-OS/2) Settings</B>.
<P><LI>Set <B>PCMCIA&#95;CARD&#95;SERVICES</B>
as <B>On</B>.
<P><LI>Set <B>PCMCIA&#95;RELEASE&#95;LEVEL</B>
as <B>2.1</B>.
<P><LI>Set <B>MEM&#95;EXCLUDE&#95;REGIONS</B>
as <B>C8000-CFFFF</B>.
<P><LI>Specify the PC Card device driver name
to the <B>DOS&#95;DEVICE</B>.
</OL>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">Top of Page</A> &#124; <A HREF="mmxmst34.htm">Previous Page</A> &#124; <A HREF="mmxmst36.htm">Next Page</A> &#124; <A HREF="mmxmst02.htm#ToC">Table of Contents</A> &#124; <A HREF="mmxmst38.htm#HDRINDEX_START">Index</A> &#93;</B>
<A NAME=Bot_Of_Page>&nbsp;</A>
</BODY></HTML>
